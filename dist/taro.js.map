{"version":3,"sources":["webpack:///./node_modules/@tarojs/mini-runner/dist/template/comp.js","webpack:///./node_modules/@tarojs/runtime/dist/runtime.esm.js"],"names":["Object","defineProperty","exports","value","runtime_1","require","Component","createRecursiveComponentConfig","isString","o","isUndefined","isObject","isFunction","isArray","Array","EMPTY_OBJ","noop","toDashed","s","replace","toLowerCase","toCamelCase","camel","nextCap","i","length","toUpperCase","reportIssue","ensure","condition","msg","Error","warn","process","console","touchEvents","bindTouchStart","bindTouchMove","bindTouchEnd","bindTouchCancel","bindLongTap","View","assign","singleQuote","animation","bindAnimationEnd","Map$1","longitude","latitude","scale","markers","covers","polyline","circles","controls","polygons","subkey","rotate","skew","setting","bindMarkerTap","bindLabelTap","bindControlTap","bindCalloutTap","bindUpdated","bindRegionChange","bindPoiTap","CoverView","MovableView","direction","inertia","x","y","damping","friction","disabled","bindChange","bindScale","htouchmove","vtouchmove","width","height","ScrollView","bindScrolltoUpper","bindScrolltoLower","bindScroll","controlledComponent","Set","incrementId","id","toString","isElement","node","nodeType","isText","TaroEventTarget","__handlers","type","handler","options","handlers","isCapture","Boolean","isOnce","capture","once","wrapper","apply","arguments","removeEventListener","addEventListener","push","index","indexOf","splice","eventSource","Map","TaroEvent","opts","event","_stop","_end","defaultPrevented","mpEvent","bubbles","cancelable","element","document$1","getElementById","target","detail","dataset","currentTarget","createEvent","_","domEv","key","eventHandler","dispatchEvent","hydrate","nodeValue","nodeName","data","uid","props","childNodes","prop","startsWith","map","className","cssText","prerender","debug","html","skipElements","voidElements","closingElements","initPosition","column","line","feedPosition","position","str","len","start","end","char","charAt","jumpPosition","copyPosition","whitespace","isWhitespaceChar","test","shouldBeIgnore","tagName","name","has","alphanumeric","findTextEnd","textEnd","Scaner","tokens","scanText","isComment","scanComment","scanTag","scanSkipTag","content","slice","contentEnd","commentEnd","scanTagStart","scanTagName","scanAttrs","scanTagEnd","secondChar","close","firstChar","isTagChar","cursor","quote","wordBegin","words","isQuoteEnd","isTagEnd","isWordEnd","isQuoteStart","wLen","word","isNotPair","includes","secondWord","newWord","thirdWord","endsWith","safeTagName","nextTag","tagStartPosition","tagState","textStart","makeMap","expectsLowerCase","create","list","split","val","specialMiniElements","img","iframe","isMiniElements","isInlineElements","isBlockElements","closingTagAncestorBreakers","li","dt","dd","tbody","thead","tfoot","tr","td","hasTerminalParent","stack","tagParents","currentIndex","parentTagName","unquote","car","getTagName","tag","format","children","filter","child","text","createTextNode","transformText","el","createElement","attributes","attr","setAttribute","ch","appendChild","transformElement","parser","scan","root","state","parse","nodes","token","tagToken","shouldRewind","endToken","isClosingTag","shouldRewindToAutoClose","previousIndex","attrToken","hasChildren","innerState","setInnerHTML","textContent","nodeId","TaroNode","parentNode","set","newChild","refChild","isReplace","remove","payload","findIndex","path","_path","enqueueUpdate","insertBefore","oldChild","delete","removeChild","_root","childeNodes","c","TaroText","_value","styleProperties","PROPERTY_THRESHOLD","SET_DATA","PAGE_INIT","setStyle","newVal","styleKey","old","_usedStyleProp","add","_element","initStyle","ctor","properties","get","call","defineProperties","prototype","Style","hasOwnProperty","enumerable","configurable","propertyName","setCssVariables","removeProperty","forEach","rules","rule","trim","propName","setProperty","TaroElement","style","qualifiedName","listeners","listener","result","_stopPropagation","l","getAttribute","propKeys","keys","attrs","p","concat","FormElement","Performance","recorder","Date","now","prev","time","log","perf","TaroRootElement","pendingUpdate","updatePayloads","ctx","performUpdate","initRender","setTimeout","resetPaths","shift","setData","stop","isBrowser","document","scripts","doc","win","window","TaroDocument","createDocument","documentElement","head","app","container","lastChild","machine","arch","engine","navigator","appCodeName","appName","appVersion","cookieEnabled","mimeTypes","onLine","platform","plugins","product","productSub","userAgent","vendor","vendorSub","window$1","Current","router","page","instances","injectPageInstance","inst","getPageInstance","addLeadingSlash","pageId","safeExecute","lifecycle","isReact","instance","func","$options","args","stringify","obj","join","getPath","createPageConfig","component","pageName","pageElement","config","onLoad","cb","params","route","__route__","mount","onUnload","unmount","onShow","onHide","onPullDownRefresh","onReachBottom","onPageScroll","onShareAppMessage","onResize","onTabItemTap","onTitleClick","onOptionMenuClick","onPopMenuClick","onPullIntercept","eh","createComponentConfig","componentName","_a","_b","_c","componentElement","attached","detached","pageLifetimes","show","hide","methods","addGlobalClass","connectReactPage","R","h","isReactComponent","inject","refs","ref","forwardedRef","PageContext","createContext","hasError","error","info","componentStack","Provider","ReactDOM","createReactApp","App","react","reactdom","createRef","AppWrapper","pages","elements","tid","forceUpdate","pop","AppConfig","render","current","query","onLaunch","componentDidShow","componentDidHide","connectVuePage","Vue","injectedPage","extend","String","mixins","created","class","createVueApp","vue","getTagNamespace","appInstance","updateSync","_update","_render","$children","$mount","$refs","taroHooks","fn","useContext","useLayoutEffect","first","bind","useDidShow","useDidHide","usePullDownRefresh","useReachBottom","usePageScroll","useResize","useShareAppMessage","useTabItemTap","useTitleClick","useOptionMenuClick","usePullIntercept","useRouter","dynamic","useMemo","useScope","undefined","nextTick","Events","callbacks","eventName","callback","context","tail","eventSplitter","calls","next","events","off","on","rest","eventCenter"],"mappings":"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","file":"taro.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst runtime_1 = require(\"@tarojs/runtime\");\n// @ts-ignore\nComponent(runtime_1.createRecursiveComponentConfig());\n","function isString(o) {\r\n    return typeof o === 'string';\r\n}\r\nfunction isUndefined(o) {\r\n    return typeof o === 'undefined';\r\n}\r\nfunction isObject(o) {\r\n    return o !== null && typeof o === 'object';\r\n}\r\nfunction isFunction(o) {\r\n    return typeof o === 'function';\r\n}\r\nconst isArray = Array.isArray;\n\nconst EMPTY_OBJ = {};\r\nconst noop = (..._) => { };\r\nfunction toDashed(s) {\r\n    return s.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\r\n}\r\nfunction toCamelCase(s) {\r\n    let camel = '';\r\n    let nextCap = false;\r\n    for (let i = 0; i < s.length; i++) {\r\n        if (s[i] !== '-') {\r\n            camel += nextCap ? s[i].toUpperCase() : s[i];\r\n            nextCap = false;\r\n        }\r\n        else {\r\n            nextCap = true;\r\n        }\r\n    }\r\n    return camel;\r\n}\r\nconst reportIssue = '如有疑问，请提交 issue 至：https://github.com/nervjs/taro/issues';\r\n/**\r\n * ensure takes a condition and throw a error if the condition fails,\r\n * like failure::ensure: https://docs.rs/failure/0.1.1/failure/macro.ensure.html\r\n * @param condition condition.\r\n * @param msg error message.\r\n */\r\nfunction ensure(condition, msg) {\r\n    if (condition) {\r\n        return;\r\n    }\r\n    throw new Error(msg + '\\n' + reportIssue);\r\n}\r\nfunction warn(condition, msg) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        if (condition) {\r\n            console.warn(msg);\r\n        }\r\n    }\r\n}\nconst touchEvents = {\r\n    bindTouchStart: '',\r\n    bindTouchMove: '',\r\n    bindTouchEnd: '',\r\n    bindTouchCancel: '',\r\n    bindLongTap: ''\r\n};\r\nconst View = Object.assign({ 'hover-class': singleQuote('none'), 'hover-stop-propagation': 'false', 'hover-start-time': '50', 'hover-stay-time': '400', animation: '', bindAnimationEnd: '' }, touchEvents);\r\nconst Map$1 = Object.assign({ longitude: '', latitude: '', scale: '16', markers: '', covers: '', polyline: '', circles: '', controls: '', 'include-point': 'false', 'show-location': '', polygons: '', subkey: '', 'layer-style': '1', rotate: '0', skew: 'skew', 'enable-3D': 'false', 'show-compass': 'false', 'show-scale': 'false', 'enable-overlooking': 'false', 'enable-zoom': 'true', 'enable-scroll': 'true', 'enable-rotate': 'false', 'enable-satellite': 'false', 'enable-traffic': 'false', setting: '', bindMarkerTap: '', bindLabelTap: '', bindControlTap: '', bindCalloutTap: '', bindUpdated: '', bindRegionChange: '', bindPoiTap: '' }, touchEvents);\r\nif (process.env.TARO_ENV === 'qq') ;\r\nconst CoverView = Object.assign({ 'scroll-top': 'false' }, touchEvents);\r\nconst MovableView = Object.assign({ direction: 'none', inertia: 'false', 'out-of-bounds': 'false', x: '', y: '', damping: '20', friction: '2', disabled: '', scale: 'false', 'scale-min': '0.5', 'scale-max': '10', 'scale-value': '1', animation: 'true', bindAnimationEnd: '', bindChange: '', bindScale: '', htouchmove: '', vtouchmove: '', width: singleQuote('10px'), height: singleQuote('10px') }, touchEvents);\r\nconst ScrollView = Object.assign({ 'scroll-x': 'false', 'scroll-y': 'false', 'upper-threshold': '50', 'lower-threshold': '50', 'scroll-top': '', 'scroll-left': '', 'scroll-into-view': '', 'scroll-with-animation': 'false', 'enable-back-to-top': 'false', 'enable-flex': 'false', 'scroll-anchoring': ' false', bindScrolltoUpper: '', bindScrolltoLower: '', bindScroll: '' }, touchEvents);\r\nfunction singleQuote(s) {\r\n    return `'${s}'`;\r\n}\r\nconst controlledComponent = new Set([\r\n    'input',\r\n    'checkbox',\r\n    'picker-view',\r\n    'radio',\r\n    'slider',\r\n    'textarea'\r\n]);\n\nconst incrementId = () => {\r\n    let id = 0;\r\n    return () => (id++).toString();\r\n};\r\nfunction isElement(node) {\r\n    return node.nodeType === 1 /* ELEMENT_NODE */;\r\n}\r\nfunction isText(node) {\r\n    return node.nodeType === 3 /* TEXT_NODE */;\r\n}\n\nclass TaroEventTarget {\r\n    constructor() {\r\n        this.__handlers = {};\r\n    }\r\n    addEventListener(type, handler, options) {\r\n        warn(type === 'regionchange', 'map 组件的 regionchange 事件非常特殊，请使用 begin/end 事件替代。详情：https://github.com/NervJS/taro/issues/5766');\r\n        type = type.toLowerCase();\r\n        const handlers = this.__handlers[type];\r\n        let isCapture = Boolean(options);\r\n        let isOnce = false;\r\n        if (isObject(options)) {\r\n            isCapture = Boolean(options.capture);\r\n            isOnce = Boolean(options.once);\r\n        }\r\n        if (isOnce) {\r\n            const wrapper = function () {\r\n                handler.apply(this, arguments); // this 指向 Element\r\n                this.removeEventListener(type, wrapper);\r\n            };\r\n            this.addEventListener(type, wrapper, Object.assign(Object.assign({}, options), { once: false }));\r\n            return;\r\n        }\r\n        warn(isCapture, 'The event capture feature is unimplemented.');\r\n        if (isArray(handlers)) {\r\n            handlers.push(handler);\r\n        }\r\n        else {\r\n            this.__handlers[type] = [handler];\r\n        }\r\n    }\r\n    removeEventListener(type, handler) {\r\n        type = type.toLowerCase();\r\n        if (handler == null) {\r\n            return;\r\n        }\r\n        const handlers = this.__handlers[type];\r\n        if (!isArray(handlers)) {\r\n            return;\r\n        }\r\n        const index = handlers.indexOf(handler);\r\n        warn(index === -1, `事件: '${type}' 没有注册在 DOM 中，因此不会被移除。`);\r\n        handlers.splice(index, 1);\r\n    }\r\n}\n\nconst eventSource = new Map();\r\nclass TaroEvent {\r\n    constructor(type, opts, event) {\r\n        this._stop = false;\r\n        this._end = false;\r\n        this.defaultPrevented = false;\r\n        this.type = type.toLowerCase();\r\n        this.mpEvent = event;\r\n        this.bubbles = Boolean(opts && opts.bubbles);\r\n        this.cancelable = Boolean(opts && opts.cancelable);\r\n    }\r\n    stopPropagation() {\r\n        this._stop = true;\r\n    }\r\n    stopImmediatePropagation() {\r\n        this._end = this._stop = true;\r\n    }\r\n    preventDefault() {\r\n        this.defaultPrevented = true;\r\n    }\r\n    get target() {\r\n        const element = document$1.getElementById(this.mpEvent.target.id);\r\n        return Object.assign(Object.assign(Object.assign({}, this.mpEvent.target), this.mpEvent.detail), { dataset: element !== null ? element.dataset : EMPTY_OBJ });\r\n    }\r\n    get currentTarget() {\r\n        const element = document$1.getElementById(this.mpEvent.currentTarget.id);\r\n        if (element === null) {\r\n            return this.target;\r\n        }\r\n        return Object.assign(Object.assign(Object.assign({}, this.mpEvent.currentTarget), this.mpEvent.detail), { dataset: element.dataset });\r\n    }\r\n}\r\nfunction createEvent(event, _) {\r\n    const domEv = new TaroEvent(event.type, { bubbles: true, cancelable: true }, event);\r\n    for (const key in event) {\r\n        if (key === 'currentTarget' || key === 'target' || key === 'type') {\r\n            continue;\r\n        }\r\n        else {\r\n            domEv[key] = event[key];\r\n        }\r\n    }\r\n    return domEv;\r\n}\r\nfunction eventHandler(event) {\r\n    if (event.currentTarget == null) {\r\n        event.currentTarget = event.target;\r\n    }\r\n    const node = document$1.getElementById(event.currentTarget.id);\r\n    if (node != null) {\r\n        node.dispatchEvent(createEvent(event));\r\n    }\r\n}\n\n/**\r\n * React also has a fancy function's name for this: `hydrate()`.\r\n * You may have been heard `hydrate` as a SSR-related function,\r\n * actually, `hydrate` basicly do the `render()` thing, but ignore some properties,\r\n * it's a vnode traverser and modifier: that's exactly what Taro's doing in here.\r\n */\r\nfunction hydrate(node) {\r\n    if (isText(node)) {\r\n        return {\r\n            [\"v\" /* Text */]: node.nodeValue,\r\n            [\"nn\" /* NodeName */]: node.nodeName\r\n        };\r\n    }\r\n    const data = {\r\n        [\"nn\" /* NodeName */]: node.nodeName,\r\n        uid: node.uid\r\n    };\r\n    const { props, childNodes } = node;\r\n    for (const prop in props) {\r\n        if (!prop.startsWith('data-') && // 在 node.dataset 的数据\r\n            prop !== 'class' &&\r\n            prop !== 'style' &&\r\n            prop !== 'id') {\r\n            data[process.env.FRAMEWORK === 'vue' ? toCamelCase(prop) : prop] = props[prop];\r\n        }\r\n    }\r\n    if (childNodes.length > 0) {\r\n        data[\"cn\" /* Childnodes */] = childNodes.map(hydrate);\r\n    }\r\n    if (node.className !== '') {\r\n        data[\"cl\" /* Class */] = node.className;\r\n    }\r\n    if (node.cssText !== '') {\r\n        data[\"st\" /* Style */] = node.cssText;\r\n    }\r\n    return data;\r\n}\n\nconst options = {\r\n    prerender: true,\r\n    debug: false,\r\n    // html 只影响 Element#innerHTML API\r\n    html: {\r\n        skipElements: new Set(['style', 'script']),\r\n        voidElements: new Set([\r\n            '!doctype', 'area', 'base', 'br', 'col', 'command',\r\n            'embed', 'hr', 'img', 'input', 'keygen', 'link',\r\n            'meta', 'param', 'source', 'track', 'wbr'\r\n        ]),\r\n        closingElements: new Set([\r\n            'html', 'head', 'body', 'p', 'dt', 'dd', 'li', 'option',\r\n            'thead', 'th', 'tbody', 'tr', 'td', 'tfoot', 'colgroup'\r\n        ])\r\n    }\r\n};\n\nfunction initPosition() {\r\n    return {\r\n        index: 0,\r\n        column: 0,\r\n        line: 0\r\n    };\r\n}\r\nfunction feedPosition(position, str, len) {\r\n    const start = position.index;\r\n    const end = position.index = start + len;\r\n    for (let i = start; i < end; i++) {\r\n        const char = str.charAt(i);\r\n        if (char === '\\n') {\r\n            position.line++;\r\n            position.column = 0;\r\n        }\r\n        else {\r\n            position.column++;\r\n        }\r\n    }\r\n}\r\nfunction jumpPosition(position, str, end) {\r\n    const len = end - position.index;\r\n    return feedPosition(position, str, len);\r\n}\r\nfunction copyPosition(position) {\r\n    return {\r\n        index: position.index,\r\n        line: position.line,\r\n        column: position.column\r\n    };\r\n}\r\nconst whitespace = /\\s/;\r\nfunction isWhitespaceChar(char) {\r\n    return whitespace.test(char);\r\n}\r\nfunction shouldBeIgnore(tagName) {\r\n    const name = tagName.toLowerCase();\r\n    if (options.html.skipElements.has(name)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nconst alphanumeric = /[A-Za-z0-9]/;\r\nfunction findTextEnd(str, index) {\r\n    while (true) {\r\n        const textEnd = str.indexOf('<', index);\r\n        if (textEnd === -1) {\r\n            return textEnd;\r\n        }\r\n        const char = str.charAt(textEnd + 1);\r\n        if (char === '/' || char === '!' || alphanumeric.test(char)) {\r\n            return textEnd;\r\n        }\r\n        index = textEnd + 1;\r\n    }\r\n}\r\nclass Scaner {\r\n    constructor(html) {\r\n        this.tokens = [];\r\n        this.position = initPosition();\r\n        this.html = html;\r\n    }\r\n    scan() {\r\n        const { html, position } = this;\r\n        const len = html.length;\r\n        while (position.index < len) {\r\n            const start = position.index;\r\n            this.scanText();\r\n            if (position.index === start) {\r\n                const isComment = html.startsWith('!--', start + 1);\r\n                if (isComment) {\r\n                    this.scanComment();\r\n                }\r\n                else {\r\n                    const tagName = this.scanTag();\r\n                    if (shouldBeIgnore(tagName)) {\r\n                        this.scanSkipTag(tagName);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return this.tokens;\r\n    }\r\n    scanText() {\r\n        const type = 'text';\r\n        const { html, position } = this;\r\n        let textEnd = findTextEnd(html, position.index);\r\n        if (textEnd === position.index) {\r\n            return;\r\n        }\r\n        if (textEnd === -1) {\r\n            textEnd = html.length;\r\n        }\r\n        const start = copyPosition(position);\r\n        const content = html.slice(position.index, textEnd);\r\n        jumpPosition(position, html, textEnd);\r\n        const end = copyPosition(position);\r\n        this.tokens.push({ type, content, position: { start, end } });\r\n    }\r\n    scanComment() {\r\n        const type = 'comment';\r\n        const { html, position } = this;\r\n        const start = copyPosition(position);\r\n        feedPosition(position, html, 4); // \"<!--\".length\r\n        let contentEnd = html.indexOf('-->', position.index);\r\n        let commentEnd = contentEnd + 3; // \"-->\".length\r\n        if (contentEnd === -1) {\r\n            contentEnd = commentEnd = html.length;\r\n        }\r\n        const content = html.slice(position.index, contentEnd);\r\n        jumpPosition(position, html, commentEnd);\r\n        this.tokens.push({\r\n            type,\r\n            content,\r\n            position: {\r\n                start,\r\n                end: copyPosition(position)\r\n            }\r\n        });\r\n    }\r\n    scanTag() {\r\n        this.scanTagStart();\r\n        const tagName = this.scanTagName();\r\n        this.scanAttrs();\r\n        this.scanTagEnd();\r\n        return tagName;\r\n    }\r\n    scanTagStart() {\r\n        const type = 'tag-start';\r\n        const { html, position } = this;\r\n        const secondChar = html.charAt(position.index + 1);\r\n        const close = secondChar === '/';\r\n        const start = copyPosition(position);\r\n        feedPosition(position, html, close ? 2 : 1);\r\n        this.tokens.push({ type, close, position: { start } });\r\n    }\r\n    scanTagEnd() {\r\n        const type = 'tag-end';\r\n        const { html, position } = this;\r\n        const firstChar = html.charAt(position.index);\r\n        const close = firstChar === '/';\r\n        feedPosition(position, html, close ? 2 : 1);\r\n        const end = copyPosition(position);\r\n        this.tokens.push({ type, close, position: { end } });\r\n    }\r\n    scanTagName() {\r\n        const type = 'tag';\r\n        const { html, position } = this;\r\n        const len = html.length;\r\n        let start = position.index;\r\n        while (start < len) {\r\n            const char = html.charAt(start);\r\n            const isTagChar = !(isWhitespaceChar(char) || char === '/' || char === '>');\r\n            if (isTagChar)\r\n                break;\r\n            start++;\r\n        }\r\n        let end = start + 1;\r\n        while (end < len) {\r\n            const char = html.charAt(end);\r\n            const isTagChar = !(isWhitespaceChar(char) || char === '/' || char === '>');\r\n            if (!isTagChar)\r\n                break;\r\n            end++;\r\n        }\r\n        jumpPosition(position, html, end);\r\n        const tagName = html.slice(start, end);\r\n        this.tokens.push({\r\n            type,\r\n            content: tagName\r\n        });\r\n        return tagName;\r\n    }\r\n    scanAttrs() {\r\n        const { html, position, tokens } = this;\r\n        let cursor = position.index;\r\n        let quote = null; // null, single-, or double-quote\r\n        let wordBegin = cursor; // index of word start\r\n        const words = []; // \"key\", \"key=value\", \"key='value'\", etc\r\n        const len = html.length;\r\n        while (cursor < len) {\r\n            const char = html.charAt(cursor);\r\n            if (quote) {\r\n                const isQuoteEnd = char === quote;\r\n                if (isQuoteEnd) {\r\n                    quote = null;\r\n                }\r\n                cursor++;\r\n                continue;\r\n            }\r\n            const isTagEnd = char === '/' || char === '>';\r\n            if (isTagEnd) {\r\n                if (cursor !== wordBegin) {\r\n                    words.push(html.slice(wordBegin, cursor));\r\n                }\r\n                break;\r\n            }\r\n            const isWordEnd = isWhitespaceChar(char);\r\n            if (isWordEnd) {\r\n                if (cursor !== wordBegin) {\r\n                    words.push(html.slice(wordBegin, cursor));\r\n                }\r\n                wordBegin = cursor + 1;\r\n                cursor++;\r\n                continue;\r\n            }\r\n            const isQuoteStart = char === '\\'' || char === '\"';\r\n            if (isQuoteStart) {\r\n                quote = char;\r\n                cursor++;\r\n                continue;\r\n            }\r\n            cursor++;\r\n        }\r\n        jumpPosition(position, html, cursor);\r\n        const wLen = words.length;\r\n        const type = 'attribute';\r\n        for (let i = 0; i < wLen; i++) {\r\n            const word = words[i];\r\n            const isNotPair = word.includes('=');\r\n            if (isNotPair) {\r\n                const secondWord = words[i + 1];\r\n                if (secondWord && secondWord.startsWith('=')) {\r\n                    if (secondWord.length > 1) {\r\n                        const newWord = word + secondWord;\r\n                        tokens.push({ type, content: newWord });\r\n                        i += 1;\r\n                        continue;\r\n                    }\r\n                    const thirdWord = words[i + 2];\r\n                    i += 1;\r\n                    if (thirdWord) {\r\n                        const newWord = word + '=' + thirdWord;\r\n                        tokens.push({ type, content: newWord });\r\n                        i += 1;\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n            if (word.endsWith('=')) {\r\n                const secondWord = words[i + 1];\r\n                if (secondWord && !secondWord.includes('=')) {\r\n                    const newWord = word + secondWord;\r\n                    tokens.push({ type, content: newWord });\r\n                    i += 1;\r\n                    continue;\r\n                }\r\n                const newWord = word.slice(0, -1);\r\n                tokens.push({ type, content: newWord });\r\n                continue;\r\n            }\r\n            tokens.push({ type, content: word });\r\n        }\r\n    }\r\n    scanSkipTag(tagName) {\r\n        const { html, position, tokens } = this;\r\n        const safeTagName = tagName.toLowerCase();\r\n        const len = html.length;\r\n        let index = position.index;\r\n        while (index < len) {\r\n            const nextTag = html.indexOf('</', index);\r\n            if (nextTag === -1) {\r\n                this.scanText();\r\n                break;\r\n            }\r\n            const tagStartPosition = copyPosition(position);\r\n            jumpPosition(tagStartPosition, html, nextTag);\r\n            const tagState = { html, position: tagStartPosition, tokens: [] };\r\n            const name = this.scanTag();\r\n            if (safeTagName !== name.toLowerCase()) {\r\n                index = tagState.position.index;\r\n                continue;\r\n            }\r\n            if (nextTag !== position.index) {\r\n                const textStart = copyPosition(position);\r\n                jumpPosition(position, html, nextTag);\r\n                tokens.push({\r\n                    type: 'text',\r\n                    content: html.slice(textStart.index, nextTag),\r\n                    position: {\r\n                        start: textStart,\r\n                        end: copyPosition(position)\r\n                    }\r\n                });\r\n            }\r\n            tokens.push.apply(tokens, tagState.tokens);\r\n            jumpPosition(position, html, tagState.position.index);\r\n            break;\r\n        }\r\n    }\r\n}\n\nfunction makeMap(str, expectsLowerCase) {\r\n    const map = Object.create(null);\r\n    const list = str.split(',');\r\n    for (let i = 0; i < list.length; i++) {\r\n        map[list[i]] = true;\r\n    }\r\n    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];\r\n}\r\nconst specialMiniElements = {\r\n    img: 'image',\r\n    iframe: 'web-view'\r\n};\r\n// https://developers.weixin.qq.com/miniprogram/dev/component\r\nconst isMiniElements = makeMap('input,canvas,progress,video,audio,form', true);\r\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Inline_elements\r\nconst isInlineElements = makeMap('a,i,abbr,iframe,select,acronym,slot,small,bdi,kbd,strong,big,map,sup,br,mark,mark,meter,template,canvas,textarea,cite,object,time,code,output,u,data,picture,tt,datalist,var,dfn,del,q,em,s,embed,samp', true);\r\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Block-level_elements\r\nconst isBlockElements = makeMap('address,fieldset,li,article,figcaption,main,aside,figure,nav,blockquote,footer,ol,details,form,p,dialog,h1,h2,h3,h4,h5,h6,pre,dd,header,section,div,hgroup,table,dl,hr,ul,dt', true);\n\nconst closingTagAncestorBreakers = {\r\n    li: ['ul', 'ol', 'menu'],\r\n    dt: ['dl'],\r\n    dd: ['dl'],\r\n    tbody: ['table'],\r\n    thead: ['table'],\r\n    tfoot: ['table'],\r\n    tr: ['table'],\r\n    td: ['table']\r\n};\r\nfunction hasTerminalParent(tagName, stack) {\r\n    const tagParents = closingTagAncestorBreakers[tagName];\r\n    if (tagParents) {\r\n        let currentIndex = stack.length - 1;\r\n        while (currentIndex >= 0) {\r\n            const parentTagName = stack[currentIndex].tagName;\r\n            if (parentTagName === tagName) {\r\n                break;\r\n            }\r\n            if (tagParents && tagParents.includes(parentTagName)) {\r\n                return true;\r\n            }\r\n            currentIndex--;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction unquote(str) {\r\n    const car = str.charAt(0);\r\n    const end = str.length - 1;\r\n    const isQuoteStart = car === '\"' || car === \"'\";\r\n    if (isQuoteStart && car === str.charAt(end)) {\r\n        return str.slice(1, end);\r\n    }\r\n    return str;\r\n}\r\nfunction getTagName(tag) {\r\n    if (specialMiniElements[tag]) {\r\n        return specialMiniElements[tag];\r\n    }\r\n    else if (isMiniElements(tag)) {\r\n        return tag;\r\n    }\r\n    else if (isBlockElements(tag)) {\r\n        return 'view';\r\n    }\r\n    else if (isInlineElements(tag)) {\r\n        return 'text';\r\n    }\r\n    return 'view';\r\n}\r\nfunction format(children) {\r\n    return children.filter(child => {\r\n        if (child.type === 'comment') {\r\n            return false;\r\n        }\r\n        else if (child.type === 'text') {\r\n            return child.content !== '';\r\n        }\r\n        return true;\r\n    }).map((child) => {\r\n        if (child.type === 'text') {\r\n            const text = document$1.createTextNode(child.content);\r\n            if (isFunction(options.html.transformText)) {\r\n                return options.html.transformText(text, child);\r\n            }\r\n            return text;\r\n        }\r\n        const el = document$1.createElement(getTagName(child.tagName));\r\n        el.className = child.tagName;\r\n        for (let i = 0; i < child.attributes.length; i++) {\r\n            const attr = child.attributes[i];\r\n            const [key, value] = attr.split('=');\r\n            if (key === 'class') {\r\n                el.className += el.className;\r\n            }\r\n            else if (key[0] === 'o' && key[1] === 'n') {\r\n                continue;\r\n            }\r\n            else {\r\n                el.setAttribute(key, value == null ? true : unquote(value));\r\n            }\r\n        }\r\n        const ch = format(child.children);\r\n        for (let i = 0; i < ch.length; i++) {\r\n            el.appendChild(ch[i]);\r\n        }\r\n        if (isFunction(options.html.transformElement)) {\r\n            return options.html.transformElement(el, child);\r\n        }\r\n        return el;\r\n    });\r\n}\r\nfunction parser(html) {\r\n    const tokens = new Scaner(html).scan();\r\n    const root = { tagName: '', children: [], type: 'element', attributes: [] };\r\n    const state = { tokens, options, cursor: 0, stack: [root] };\r\n    parse(state);\r\n    return format(root.children);\r\n}\r\nfunction parse(state) {\r\n    const { tokens, stack } = state;\r\n    let { cursor } = state;\r\n    const len = tokens.length;\r\n    let nodes = stack[stack.length - 1].children;\r\n    while (cursor < len) {\r\n        const token = tokens[cursor];\r\n        if (token.type !== 'tag-start') {\r\n            // comment or text\r\n            nodes.push(token);\r\n            cursor++;\r\n            continue;\r\n        }\r\n        const tagToken = tokens[++cursor];\r\n        cursor++;\r\n        const tagName = tagToken.content.toLowerCase();\r\n        if (token.close) {\r\n            let index = stack.length;\r\n            let shouldRewind = false;\r\n            while (--index > -1) {\r\n                if (stack[index].tagName === tagName) {\r\n                    shouldRewind = true;\r\n                    break;\r\n                }\r\n            }\r\n            while (cursor < len) {\r\n                const endToken = tokens[cursor];\r\n                if (endToken.type !== 'tag-end')\r\n                    break;\r\n                cursor++;\r\n            }\r\n            if (shouldRewind) {\r\n                stack.splice(index);\r\n                break;\r\n            }\r\n            else {\r\n                continue;\r\n            }\r\n        }\r\n        const isClosingTag = options.html.closingElements.has(tagName);\r\n        let shouldRewindToAutoClose = isClosingTag;\r\n        if (shouldRewindToAutoClose) {\r\n            shouldRewindToAutoClose = !hasTerminalParent(tagName, stack);\r\n        }\r\n        if (shouldRewindToAutoClose) {\r\n            let currentIndex = stack.length - 1;\r\n            while (currentIndex > 0) {\r\n                if (tagName === stack[currentIndex].tagName) {\r\n                    stack.splice(currentIndex);\r\n                    const previousIndex = currentIndex - 1;\r\n                    nodes = stack[previousIndex].children;\r\n                    break;\r\n                }\r\n                currentIndex = currentIndex - 1;\r\n            }\r\n        }\r\n        const attributes = [];\r\n        let attrToken;\r\n        while (cursor < len) {\r\n            attrToken = tokens[cursor];\r\n            if (attrToken.type === 'tag-end')\r\n                break;\r\n            attributes.push(attrToken.content);\r\n            cursor++;\r\n        }\r\n        cursor++;\r\n        const children = [];\r\n        const element = {\r\n            type: 'element',\r\n            tagName: tagToken.content,\r\n            attributes,\r\n            children\r\n        };\r\n        nodes.push(element);\r\n        const hasChildren = !(attrToken.close || options.html.voidElements.has(tagName));\r\n        if (hasChildren) {\r\n            stack.push({ tagName, children });\r\n            const innerState = { tokens, cursor, stack };\r\n            parse(innerState);\r\n            cursor = innerState.cursor;\r\n        }\r\n    }\r\n    state.cursor = cursor;\r\n}\n\nfunction setInnerHTML(element, html) {\r\n    element.textContent = '';\r\n    const children = parser(html);\r\n    for (let i = 0; i < children.length; i++) {\r\n        element.appendChild(children[i]);\r\n    }\r\n}\n\nconst nodeId = incrementId();\r\nclass TaroNode extends TaroEventTarget {\r\n    constructor(nodeType, nodeName) {\r\n        super();\r\n        this.parentNode = null;\r\n        this.childNodes = [];\r\n        this.hydrate = (node) => () => hydrate(node);\r\n        this.nodeType = nodeType;\r\n        this.nodeName = nodeName;\r\n        this.uid = `_n_${nodeId()}`;\r\n        eventSource.set(this.uid, this);\r\n    }\r\n    get _path() {\r\n        if (this.parentNode !== null) {\r\n            const index = process.env.TARO_ENV === 'swan'\r\n                ? this.parentNode.childNodes.indexOf(this)\r\n                : '[' + this.parentNode.childNodes.indexOf(this) + ']';\r\n            return `${this.parentNode._path}.${\"cn\" /* Childnodes */}.${index}`;\r\n        }\r\n        return '';\r\n    }\r\n    get _root() {\r\n        if (this.parentNode !== null) {\r\n            return this.parentNode._root;\r\n        }\r\n        return null;\r\n    }\r\n    get nextSibling() {\r\n        const parentNode = this.parentNode;\r\n        if (parentNode) {\r\n            return parentNode.childNodes[this.findIndex(parentNode.childNodes, this) + 1] || null;\r\n        }\r\n        return null;\r\n    }\r\n    get previousSibling() {\r\n        const parentNode = this.parentNode;\r\n        if (parentNode) {\r\n            return parentNode.childNodes[this.findIndex(parentNode.childNodes, this) - 1] || null;\r\n        }\r\n        return null;\r\n    }\r\n    insertBefore(newChild, refChild, isReplace) {\r\n        newChild.remove();\r\n        newChild.parentNode = this;\r\n        let payload;\r\n        if (refChild) {\r\n            const index = this.findIndex(this.childNodes, refChild);\r\n            this.childNodes.splice(index, 0, newChild);\r\n            if (isReplace === true) {\r\n                payload = {\r\n                    path: newChild._path,\r\n                    value: this.hydrate(newChild)\r\n                };\r\n            }\r\n            else {\r\n                payload = {\r\n                    path: `${this._path}.${\"cn\" /* Childnodes */}`,\r\n                    value: () => this.childNodes.map(hydrate)\r\n                };\r\n            }\r\n        }\r\n        else {\r\n            this.childNodes.push(newChild);\r\n            payload = {\r\n                path: newChild._path,\r\n                value: this.hydrate(newChild)\r\n            };\r\n        }\r\n        this.enqueueUpdate(payload);\r\n        return newChild;\r\n    }\r\n    appendChild(child) {\r\n        this.insertBefore(child);\r\n    }\r\n    replaceChild(newChild, oldChild) {\r\n        if (oldChild.parentNode === this) {\r\n            this.insertBefore(newChild, oldChild, true);\r\n            oldChild.remove(true);\r\n            return oldChild;\r\n        }\r\n    }\r\n    removeChild(child, isReplace) {\r\n        const index = this.findIndex(this.childNodes, child);\r\n        this.childNodes.splice(index, 1);\r\n        if (isReplace !== true) {\r\n            this.enqueueUpdate({\r\n                path: `${this._path}.${\"cn\" /* Childnodes */}`,\r\n                value: () => this.childNodes.map(hydrate)\r\n            });\r\n        }\r\n        child.parentNode = null;\r\n        eventSource.delete(child.uid);\r\n        return child;\r\n    }\r\n    remove(isReplace) {\r\n        if (this.parentNode) {\r\n            this.parentNode.removeChild(this, isReplace);\r\n        }\r\n    }\r\n    get firstChild() {\r\n        return this.childNodes[0] || null;\r\n    }\r\n    get lastChild() {\r\n        const c = this.childNodes;\r\n        return c[c.length - 1] || null;\r\n    }\r\n    hasChildNodes() {\r\n        return this.childNodes.length > 0;\r\n    }\r\n    enqueueUpdate(payload) {\r\n        if (this._root === null) {\r\n            return;\r\n        }\r\n        this._root.enqueueUpdate(payload);\r\n    }\r\n    /**\r\n     * @textContent 目前只能置空子元素\r\n     * @TODO 等待完整 innerHTML 实现\r\n     */\r\n    set textContent(text) {\r\n        if (text === '') {\r\n            while (this.childNodes.length > 0) {\r\n                this.childNodes[0].remove();\r\n            }\r\n        }\r\n    }\r\n    set innerHTML(html) {\r\n        setInnerHTML(this, html);\r\n    }\r\n    get innerHTML() {\r\n        return '';\r\n    }\r\n    findIndex(childeNodes, refChild) {\r\n        const index = childeNodes.indexOf(refChild);\r\n        ensure(index !== -1, 'The node to be replaced is not a child of this node.');\r\n        return index;\r\n    }\r\n}\n\nclass TaroText extends TaroNode {\r\n    constructor(text) {\r\n        super(3 /* TEXT_NODE */, '#text');\r\n        this._value = text;\r\n    }\r\n    set textContent(text) {\r\n        this._value = text;\r\n        this.enqueueUpdate({\r\n            path: `${this._path}.${\"v\" /* Text */}`,\r\n            value: text\r\n        });\r\n    }\r\n    get textContent() {\r\n        return this._value;\r\n    }\r\n    set nodeValue(text) {\r\n        this.textContent = text;\r\n    }\r\n    get nodeValue() {\r\n        return this._value;\r\n    }\r\n}\n\n/*\r\n *\r\n * https://www.w3.org/Style/CSS/all-properties.en.html\r\n */\r\nconst styleProperties = [\r\n    'alignContent',\r\n    'alignItems',\r\n    'alignSelf',\r\n    'alignmentAdjust',\r\n    'alignmentBaseline',\r\n    'all',\r\n    'animation',\r\n    'animationDelay',\r\n    'animationDirection',\r\n    'animationDuration',\r\n    'animationFillMode',\r\n    'animationIterationCount',\r\n    'animationName',\r\n    'animationPlayState',\r\n    'animationTimingFunction',\r\n    'appearance',\r\n    'azimuth',\r\n    'backfaceVisibility',\r\n    'background',\r\n    'backgroundAttachment',\r\n    'backgroundBlendMode',\r\n    'backgroundClip',\r\n    'backgroundColor',\r\n    'backgroundImage',\r\n    'backgroundOrigin',\r\n    'backgroundPosition',\r\n    'backgroundRepeat',\r\n    'backgroundSize',\r\n    'baselineShift',\r\n    'blockOverflow',\r\n    'blockSize',\r\n    'bookmarkLabel',\r\n    'bookmarkLevel',\r\n    'bookmarkState',\r\n    'border',\r\n    'borderBlock',\r\n    'borderBlockColor',\r\n    'borderBlockEnd',\r\n    'borderBlockEndColor',\r\n    'borderBlockEndStyle',\r\n    'borderBlockEndWidth',\r\n    'borderBlockStart',\r\n    'borderBlockStartColor',\r\n    'borderBlockStartStyle',\r\n    'borderBlockStartWidth',\r\n    'borderBlockStyle',\r\n    'borderBlockWidth',\r\n    'borderBottom',\r\n    'borderBottomColor',\r\n    'borderBottomFitLength',\r\n    'borderBottomFitWidth',\r\n    'borderBottomImage',\r\n    'borderBottomLeftFitWidth',\r\n    'borderBottomLeftImage',\r\n    'borderBottomLeftRadius',\r\n    'borderBottomRightFitLength',\r\n    'borderBottomRightFitWidth',\r\n    'borderBottomRightImage',\r\n    'borderBottomRightRadius',\r\n    'borderBottomStyle',\r\n    'borderBottomWidth',\r\n    'borderBottomlEftFitLength',\r\n    'borderBoundary',\r\n    'borderBreak',\r\n    'borderCollapse',\r\n    'borderColor',\r\n    'borderCornerFit',\r\n    'borderCornerImage',\r\n    'borderCornerImageTransform',\r\n    'borderEndEndRadius',\r\n    'borderEndStartRadius',\r\n    'borderFit',\r\n    'borderFitLength',\r\n    'borderFitWidth',\r\n    'borderImage',\r\n    'borderImageOutset',\r\n    'borderImageRepeat',\r\n    'borderImageSlice',\r\n    'borderImageSource',\r\n    'borderImageTransform',\r\n    'borderImageWidth',\r\n    'borderInline',\r\n    'borderInlineColor',\r\n    'borderInlineEnd',\r\n    'borderInlineEndColor',\r\n    'borderInlineEndStyle',\r\n    'borderInlineEndWidth',\r\n    'borderInlineStart',\r\n    'borderInlineStartColor',\r\n    'borderInlineStartStyle',\r\n    'borderInlineStartWidth',\r\n    'borderInlineStyle',\r\n    'borderInlineWidth',\r\n    'borderLeft',\r\n    'borderLeftColor',\r\n    'borderLeftFitLength',\r\n    'borderLeftFitWidth',\r\n    'borderLeftImage',\r\n    'borderLeftStyle',\r\n    'borderLeftWidth',\r\n    'borderRadius',\r\n    'borderRight',\r\n    'borderRightColor',\r\n    'borderRightFitLength',\r\n    'borderRightFitWidth',\r\n    'borderRightImage',\r\n    'borderRightStyle',\r\n    'borderRightWidth',\r\n    'borderSpacing',\r\n    'borderStartEndRadius',\r\n    'borderStartStartRadius',\r\n    'borderStyle',\r\n    'borderTop',\r\n    'borderTopColor',\r\n    'borderTopFitLength',\r\n    'borderTopFitWidth',\r\n    'borderTopImage',\r\n    'borderTopLeftFitLength',\r\n    'borderTopLeftFitWidth',\r\n    'borderTopLeftImage',\r\n    'borderTopLeftRadius',\r\n    'borderTopRightFitLength',\r\n    'borderTopRightFitWidth',\r\n    'borderTopRightImage',\r\n    'borderTopRightRadius',\r\n    'borderTopStyle',\r\n    'borderTopWidth',\r\n    'borderWidth',\r\n    'bottom',\r\n    'boxDecorationBreak',\r\n    'boxShadow',\r\n    'boxSizing',\r\n    'boxSnap',\r\n    'breakAfter',\r\n    'breakBefore',\r\n    'breakInside',\r\n    'captionSide',\r\n    'caret',\r\n    'caretColor',\r\n    'caretShape',\r\n    'chains',\r\n    'clear',\r\n    'clip',\r\n    'clipPath',\r\n    'clipRule',\r\n    'color',\r\n    'colorAdjust',\r\n    'colorInterpolationFilters',\r\n    'colorScheme',\r\n    'columnCount',\r\n    'columnFill',\r\n    'columnGap',\r\n    'columnRule',\r\n    'columnRuleColor',\r\n    'columnRuleStyle',\r\n    'columnRuleWidth',\r\n    'columnSpan',\r\n    'columnWidth',\r\n    'columns',\r\n    'contain',\r\n    'content',\r\n    'continue',\r\n    'counterIncrement',\r\n    'counterReset',\r\n    'counterSet',\r\n    'cue',\r\n    'cueAfter',\r\n    'cueBefore',\r\n    'cursor',\r\n    'direction',\r\n    'display',\r\n    'dominantBaseline',\r\n    'dropInitialAfterAdjust',\r\n    'dropInitialAfterAlign',\r\n    'dropInitialBeforeAdjust',\r\n    'dropInitialBeforeAlign',\r\n    'dropInitialSize',\r\n    'dropInitialValue',\r\n    'elevation',\r\n    'emptyCells',\r\n    'filter',\r\n    'flex',\r\n    'flexBasis',\r\n    'flexDirection',\r\n    'flexFlow',\r\n    'flexGrow',\r\n    'flexShrink',\r\n    'flexWrap',\r\n    'float',\r\n    'floodColor',\r\n    'floodOpacity',\r\n    'flow',\r\n    'flowFrom',\r\n    'flowInto',\r\n    'font',\r\n    'fontFamily',\r\n    'fontFeatureSettings',\r\n    'fontKerning',\r\n    'fontLanguageOverride',\r\n    'fontMaxSize',\r\n    'fontMinSize',\r\n    'fontOpticalSizing',\r\n    'fontPalette',\r\n    'fontSize',\r\n    'fontSizeAdjust',\r\n    'fontStretch',\r\n    'fontStyle',\r\n    'fontSynthesis',\r\n    'fontSynthesisSmallCaps',\r\n    'fontSynthesisStyle',\r\n    'fontSynthesisWeight',\r\n    'fontVariant',\r\n    'fontVariantAlternates',\r\n    'fontVariantCaps',\r\n    'fontVariantEastAsian',\r\n    'fontVariantEmoji',\r\n    'fontVariantLigatures',\r\n    'fontVariantNumeric',\r\n    'fontVariantPosition',\r\n    'fontVariationSettings',\r\n    'fontWeight',\r\n    'footnoteDisplay',\r\n    'footnotePolicy',\r\n    'forcedColorAdjust',\r\n    'gap',\r\n    'glyphOrientationVertical',\r\n    'grid',\r\n    'gridArea',\r\n    'gridAutoColumns',\r\n    'gridAutoFlow',\r\n    'gridAutoRows',\r\n    'gridColumn',\r\n    'gridColumnEnd',\r\n    'gridColumnStart',\r\n    'gridRow',\r\n    'gridRowEnd',\r\n    'gridRowStart',\r\n    'gridTemplate',\r\n    'gridTemplateAreas',\r\n    'gridTemplateColumns',\r\n    'gridTemplateRows',\r\n    'hangingPunctuation',\r\n    'height',\r\n    'hyphenateCharacter',\r\n    'hyphenateLimitChars',\r\n    'hyphenateLimitLast',\r\n    'hyphenateLimitLines',\r\n    'hyphenateLimitZone',\r\n    'hyphens',\r\n    'imageOrientation',\r\n    'imageResolution',\r\n    'initialLetters',\r\n    'initialLettersAlign',\r\n    'initialLettersWrap',\r\n    'inlineBoxAlign',\r\n    'inlineSize',\r\n    'inlineSizing',\r\n    'inset',\r\n    'insetBlock',\r\n    'insetBlockEnd',\r\n    'insetBlockStart',\r\n    'insetInline',\r\n    'insetInlineEnd',\r\n    'insetInlineStart',\r\n    'isolation',\r\n    'justifyContent',\r\n    'justifyItems',\r\n    'justifySelf',\r\n    'left',\r\n    'letterSpacing',\r\n    'lightingColor',\r\n    'lineBreak',\r\n    'lineClamp',\r\n    'lineGrid',\r\n    'lineHeight',\r\n    'linePadding',\r\n    'lineSnap',\r\n    'lineStacking',\r\n    'lineStackingRuby',\r\n    'lineStackingShift',\r\n    'lineStackingStrategy',\r\n    'listStyle',\r\n    'listStyleImage',\r\n    'listStylePosition',\r\n    'listStyleType',\r\n    'margin',\r\n    'marginBlock',\r\n    'marginBlockEnd',\r\n    'marginBlockStart',\r\n    'marginBottom',\r\n    'marginInline',\r\n    'marginInlineEnd',\r\n    'marginInlineStart',\r\n    'marginLeft',\r\n    'marginRight',\r\n    'marginTop',\r\n    'marginTrim',\r\n    'markerSide',\r\n    'mask',\r\n    'maskBorder',\r\n    'maskBorderMode',\r\n    'maskBorderOutset',\r\n    'maskBorderRepeat',\r\n    'maskBorderSlice',\r\n    'maskBorderSource',\r\n    'maskBorderWidth',\r\n    'maskClip',\r\n    'maskComposite',\r\n    'maskImage',\r\n    'maskMode',\r\n    'maskOrigin',\r\n    'maskPosition',\r\n    'maskRepeat',\r\n    'maskSize',\r\n    'maskType',\r\n    'maxBlockSize',\r\n    'maxHeight',\r\n    'maxInlineSize',\r\n    'maxLines',\r\n    'maxWidth',\r\n    'minBlockSize',\r\n    'minHeight',\r\n    'minInlineSize',\r\n    'minWidth',\r\n    'mixBlendMode',\r\n    'navDown',\r\n    'navLeft',\r\n    'navRight',\r\n    'navUp',\r\n    'objectFit',\r\n    'objectPosition',\r\n    'offset',\r\n    'offsetAfter',\r\n    'offsetAnchor',\r\n    'offsetBefore',\r\n    'offsetDistance',\r\n    'offsetEnd',\r\n    'offsetPath',\r\n    'offsetPosition',\r\n    'offsetRotate',\r\n    'offsetStart',\r\n    'opacity',\r\n    'order',\r\n    'orphans',\r\n    'outline',\r\n    'outlineColor',\r\n    'outlineOffset',\r\n    'outlineStyle',\r\n    'outlineWidth',\r\n    'overflow',\r\n    'overflowBlock',\r\n    'overflowInline',\r\n    'overflowWrap',\r\n    'overflowX',\r\n    'overflowY',\r\n    'padding',\r\n    'paddingBlock',\r\n    'paddingBlockEnd',\r\n    'paddingBlockStart',\r\n    'paddingBottom',\r\n    'paddingInline',\r\n    'paddingInlineEnd',\r\n    'paddingInlineStart',\r\n    'paddingLeft',\r\n    'paddingRight',\r\n    'paddingTop',\r\n    'page',\r\n    'pageBreakAfter',\r\n    'pageBreakBefore',\r\n    'pageBreakInside',\r\n    'pause',\r\n    'pauseAfter',\r\n    'pauseBefore',\r\n    'perspective',\r\n    'perspectiveOrigin',\r\n    'pitch',\r\n    'pitchRange',\r\n    'placeContent',\r\n    'placeItems',\r\n    'placeSelf',\r\n    'playDuring',\r\n    'position',\r\n    'quotes',\r\n    'regionFragment',\r\n    'resize',\r\n    'richness',\r\n    'right',\r\n    'rowGap',\r\n    'rubyAlign',\r\n    'rubyMerge',\r\n    'rubyPosition',\r\n    'running',\r\n    'scrollBehavior',\r\n    'scrollMargin',\r\n    'scrollMarginBlock',\r\n    'scrollMarginBlockEnd',\r\n    'scrollMarginBlockStart',\r\n    'scrollMarginBottom',\r\n    'scrollMarginInline',\r\n    'scrollMarginInlineEnd',\r\n    'scrollMarginInlineStart',\r\n    'scrollMarginLeft',\r\n    'scrollMarginRight',\r\n    'scrollMarginTop',\r\n    'scrollPadding',\r\n    'scrollPaddingBlock',\r\n    'scrollPaddingBlockEnd',\r\n    'scrollPaddingBlockStart',\r\n    'scrollPaddingBottom',\r\n    'scrollPaddingInline',\r\n    'scrollPaddingInlineEnd',\r\n    'scrollPaddingInlineStart',\r\n    'scrollPaddingLeft',\r\n    'scrollPaddingRight',\r\n    'scrollPaddingTop',\r\n    'scrollSnapAlign',\r\n    'scrollSnapStop',\r\n    'scrollSnapType',\r\n    'shapeImageThreshold',\r\n    'shapeInside',\r\n    'shapeMargin',\r\n    'shapeOutside',\r\n    'speak',\r\n    'speakHeader',\r\n    'speakNumeral',\r\n    'speakPunctuation',\r\n    'speechRate',\r\n    'stress',\r\n    'stringSet',\r\n    'tabSize',\r\n    'tableLayout',\r\n    'textAlign',\r\n    'textAlignAll',\r\n    'textAlignLast',\r\n    'textCombineUpright',\r\n    'textDecoration',\r\n    'textDecorationColor',\r\n    'textDecorationLine',\r\n    'textDecorationStyle',\r\n    'textEmphasis',\r\n    'textEmphasisColor',\r\n    'textEmphasisPosition',\r\n    'textEmphasisStyle',\r\n    'textGroupAlign',\r\n    'textHeight',\r\n    'textIndent',\r\n    'textJustify',\r\n    'textOrientation',\r\n    'textOverflow',\r\n    'textShadow',\r\n    'textSpaceCollapse',\r\n    'textSpaceTrim',\r\n    'textSpacing',\r\n    'textTransform',\r\n    'textUnderlinePosition',\r\n    'textWrap',\r\n    'top',\r\n    'transform',\r\n    'transformBox',\r\n    'transformOrigin',\r\n    'transformStyle',\r\n    'transition',\r\n    'transitionDelay',\r\n    'transitionDuration',\r\n    'transitionProperty',\r\n    'transitionTimingFunction',\r\n    'unicodeBidi',\r\n    'userSelect',\r\n    'verticalAlign',\r\n    'visibility',\r\n    'voiceFamily',\r\n    'volume',\r\n    'whiteSpace',\r\n    'widows',\r\n    'width',\r\n    'willChange',\r\n    'wordBreak',\r\n    'wordSpacing',\r\n    'wordWrap',\r\n    'wrapAfter',\r\n    'wrapBefore',\r\n    'wrapFlow',\r\n    'wrapInside',\r\n    'wrapThrough',\r\n    'writingMode',\r\n    'zIndex'\r\n];\n\nconst PROPERTY_THRESHOLD = 2046;\r\nconst SET_DATA = '小程序 setData';\r\nconst PAGE_INIT = '页面初始化';\n\nfunction setStyle(newVal, styleKey) {\r\n    const old = this[styleKey];\r\n    if (newVal) {\r\n        this._usedStyleProp.add(styleKey);\r\n    }\r\n    warn(isString(newVal) && newVal.length > PROPERTY_THRESHOLD, `Style 属性 ${styleKey} 的值数据量过大，可能会影响渲染性能，考虑使用 CSS 类或其它方案替代。`);\r\n    if (old !== newVal) {\r\n        this._value[styleKey] = newVal;\r\n        this._element.enqueueUpdate({\r\n            path: `${this._element._path}.${\"st\" /* Style */}`,\r\n            value: this.cssText\r\n        });\r\n    }\r\n}\r\nfunction initStyle(ctor) {\r\n    const properties = {};\r\n    for (let i = 0; i < styleProperties.length; i++) {\r\n        const styleKey = styleProperties[i];\r\n        properties[styleKey] = {\r\n            get() {\r\n                return this._value[styleKey] || '';\r\n            },\r\n            set(newVal) {\r\n                setStyle.call(this, newVal, styleKey);\r\n            }\r\n        };\r\n    }\r\n    Object.defineProperties(ctor.prototype, properties);\r\n}\r\nclass Style {\r\n    constructor(element) {\r\n        this._element = element;\r\n        this._usedStyleProp = new Set();\r\n        this._value = {};\r\n    }\r\n    setCssVariables(styleKey) {\r\n        this.hasOwnProperty(styleKey) || Object.defineProperty(this, styleKey, {\r\n            enumerable: true,\r\n            configurable: true,\r\n            get: () => {\r\n                return this._value[styleKey] || '';\r\n            },\r\n            set: (newVal) => {\r\n                setStyle.call(this, newVal, styleKey);\r\n            }\r\n        });\r\n    }\r\n    get cssText() {\r\n        let text = '';\r\n        this._usedStyleProp.forEach(key => {\r\n            const val = this[key];\r\n            if (!val)\r\n                return;\r\n            text += `${toDashed(key)}: ${val};`;\r\n        });\r\n        return text;\r\n    }\r\n    set cssText(str) {\r\n        if (str == null) {\r\n            str = '';\r\n        }\r\n        this._usedStyleProp.forEach(prop => {\r\n            this.removeProperty(prop);\r\n        });\r\n        if (str === '') {\r\n            return;\r\n        }\r\n        const rules = str.split(';');\r\n        for (let i = 0; i < rules.length; i++) {\r\n            const rule = rules[i].trim();\r\n            if (rule === '') {\r\n                continue;\r\n            }\r\n            const [propName, val] = rule.split(':');\r\n            if (isUndefined(val)) {\r\n                continue;\r\n            }\r\n            this.setProperty(propName.trim(), val.trim());\r\n        }\r\n    }\r\n    setProperty(propertyName, value) {\r\n        if (propertyName[0] === '-') {\r\n            this.setCssVariables(propertyName);\r\n        }\r\n        else {\r\n            propertyName = toCamelCase(propertyName);\r\n        }\r\n        if (isUndefined(value)) {\r\n            return;\r\n        }\r\n        if (value === null || value === '') {\r\n            this.removeProperty(propertyName);\r\n        }\r\n        else {\r\n            this[propertyName] = value;\r\n        }\r\n    }\r\n    removeProperty(propertyName) {\r\n        propertyName = toCamelCase(propertyName);\r\n        if (!this._usedStyleProp.has(propertyName)) {\r\n            return '';\r\n        }\r\n        const value = this[propertyName];\r\n        this[propertyName] = '';\r\n        this._usedStyleProp.delete(propertyName);\r\n        return value;\r\n    }\r\n    getPropertyValue(propertyName) {\r\n        propertyName = toCamelCase(propertyName);\r\n        const value = this[propertyName];\r\n        if (!value) {\r\n            return '';\r\n        }\r\n        return value;\r\n    }\r\n}\r\ninitStyle(Style);\n\n/* eslint-disable no-dupe-class-members */\r\nclass TaroElement extends TaroNode {\r\n    constructor(nodeType, nodeName) {\r\n        super(nodeType || 1 /* ELEMENT_NODE */, nodeName);\r\n        this.props = {};\r\n        this.dataset = EMPTY_OBJ;\r\n        this.tagName = nodeName.toUpperCase();\r\n        this.style = new Style(this);\r\n        warn(this.tagName === 'MAP' && process.env.TARO_ENV === 'weapp', '微信小程序 map 组件的 `setting` 属性需要传递一个默认值。详情：\\n https://developers.weixin.qq.com/miniprogram/dev/component/map.html');\r\n    }\r\n    get id() {\r\n        return this.getAttribute('id');\r\n    }\r\n    set id(val) {\r\n        this.setAttribute('id', val);\r\n    }\r\n    get className() {\r\n        return this.getAttribute('class') || '';\r\n    }\r\n    set className(val) {\r\n        this.setAttribute('class', val);\r\n    }\r\n    get cssText() {\r\n        return this.getAttribute('style') || '';\r\n    }\r\n    get children() {\r\n        return this.childNodes.filter(isElement);\r\n    }\r\n    hasAttribute(qualifiedName) {\r\n        return !isUndefined(this.props[qualifiedName]);\r\n    }\r\n    hasAttributes() {\r\n        return this.attributes.length > 0;\r\n    }\r\n    focus() {\r\n        this.setAttribute('focus', true);\r\n    }\r\n    blur() {\r\n        this.setAttribute('focus', false);\r\n    }\r\n    setAttribute(qualifiedName, value) {\r\n        warn(isString(value) && value.length > PROPERTY_THRESHOLD, `元素 ${this.nodeName} 的 属性 ${qualifiedName} 的值数据量过大，可能会影响渲染性能。考虑降低图片转为 base64 的阈值或在 CSS 中使用 base64。`);\r\n        if (qualifiedName === 'style') {\r\n            this.style.cssText = value;\r\n            qualifiedName = \"st\" /* Style */;\r\n        }\r\n        else if (qualifiedName === 'id') {\r\n            eventSource.delete(this.uid);\r\n            this.props[qualifiedName] = this.uid = value;\r\n            eventSource.set(value, this);\r\n            qualifiedName = 'uid';\r\n        }\r\n        else {\r\n            this.props[qualifiedName] = value;\r\n            if (qualifiedName === 'class') {\r\n                qualifiedName = \"cl\" /* Class */;\r\n            }\r\n            if (qualifiedName.startsWith('data-')) {\r\n                if (this.dataset === EMPTY_OBJ) {\r\n                    this.dataset = Object.create(null);\r\n                }\r\n                this.dataset[toCamelCase(qualifiedName.replace(/^data-/, ''))] = value;\r\n            }\r\n        }\r\n        this.enqueueUpdate({\r\n            path: `${this._path}.${process.env.FRAMEWORK === 'vue' ? toCamelCase(qualifiedName) : qualifiedName}`,\r\n            value\r\n        });\r\n    }\r\n    removeAttribute(qualifiedName) {\r\n        if (qualifiedName === 'style') {\r\n            this.style.cssText = '';\r\n        }\r\n        else {\r\n            delete this.props[qualifiedName];\r\n        }\r\n        this.enqueueUpdate({\r\n            path: `${this._path}.${process.env.FRAMEWORK === 'vue' ? toCamelCase(qualifiedName) : qualifiedName}`,\r\n            value: ''\r\n        });\r\n    }\r\n    getAttribute(qualifiedName) {\r\n        const attr = qualifiedName === 'style' ? this.style.cssText : this.props[qualifiedName];\r\n        return attr !== null && attr !== void 0 ? attr : '';\r\n    }\r\n    get attributes() {\r\n        const propKeys = Object.keys(this.props);\r\n        const style = this.style.cssText;\r\n        const attrs = propKeys.map(p => ({ name: p, value: this.props[p] }));\r\n        return attrs.concat(style ? { name: 'style', value: style } : []);\r\n    }\r\n    get parentElement() {\r\n        if (this.parentNode instanceof TaroElement) {\r\n            return this.parentNode;\r\n        }\r\n        return null;\r\n    }\r\n    dispatchEvent(event) {\r\n        const cancelable = event.cancelable;\r\n        const listeners = this.__handlers[event.type];\r\n        if (!isArray(listeners)) {\r\n            return;\r\n        }\r\n        for (let i = listeners.length; i--;) {\r\n            const listener = listeners[i];\r\n            let result;\r\n            if (listener._stop) {\r\n                listener._stop = false;\r\n            }\r\n            else {\r\n                result = listener.call(this, event);\r\n            }\r\n            if ((result === false || event._end) && cancelable) {\r\n                event.defaultPrevented = true;\r\n            }\r\n            if (event._end && event._stop) {\r\n                break;\r\n            }\r\n        }\r\n        if (event._stop) {\r\n            this._stopPropagation(event);\r\n        }\r\n        else {\r\n            event._stop = true;\r\n        }\r\n        return listeners != null;\r\n    }\r\n    get textContent() {\r\n        let text = '';\r\n        for (let i = 0; i < this.childNodes.length; i++) {\r\n            const element = this.childNodes[i];\r\n            text += element.textContent;\r\n        }\r\n        return text;\r\n    }\r\n    set textContent(text) {\r\n        super.textContent = text;\r\n    }\r\n    _stopPropagation(event) {\r\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n        let target = this;\r\n        // eslint-disable-next-line no-cond-assign\r\n        while ((target = target.parentNode)) {\r\n            const listeners = target.__handlers[event.type];\r\n            if (!isArray(listeners)) {\r\n                continue;\r\n            }\r\n            for (let i = listeners.length; i--;) {\r\n                const l = listeners[i];\r\n                l._stop = true;\r\n            }\r\n        }\r\n    }\r\n}\n\nclass FormElement extends TaroElement {\r\n    get value() {\r\n        // eslint-disable-next-line dot-notation\r\n        const val = this.props['value'];\r\n        return val == null ? '' : val;\r\n    }\r\n    set value(val) {\r\n        this.setAttribute('value', val);\r\n    }\r\n}\n\nclass Performance {\r\n    constructor() {\r\n        this.recorder = new Map();\r\n    }\r\n    start(id) {\r\n        if (!options.debug) {\r\n            return;\r\n        }\r\n        this.recorder.set(id, Date.now());\r\n    }\r\n    stop(id) {\r\n        if (!options.debug) {\r\n            return;\r\n        }\r\n        const now = Date.now();\r\n        const prev = this.recorder.get(id);\r\n        const time = now - prev;\r\n        // eslint-disable-next-line no-console\r\n        console.log(`${id} 时长： ${time}ms`);\r\n    }\r\n}\r\nconst perf = new Performance();\n\nclass TaroRootElement extends TaroElement {\r\n    constructor() {\r\n        super(1 /* ELEMENT_NODE */, 'root');\r\n        this.pendingUpdate = false;\r\n        this.updatePayloads = [];\r\n        this.ctx = null;\r\n    }\r\n    get _path() {\r\n        return 'root';\r\n    }\r\n    get _root() {\r\n        return this;\r\n    }\r\n    enqueueUpdate(payload) {\r\n        this.updatePayloads.push(payload);\r\n        if (this.pendingUpdate || this.ctx === null) {\r\n            return;\r\n        }\r\n        this.performUpdate();\r\n    }\r\n    performUpdate(initRender = false, prerender) {\r\n        this.pendingUpdate = true;\r\n        const ctx = this.ctx;\r\n        setTimeout(() => {\r\n            perf.start(SET_DATA);\r\n            const data = Object.create(null);\r\n            const resetPaths = new Set(initRender\r\n                ? ['root.cn.[0]', 'root.cn[0]']\r\n                : []);\r\n            while (this.updatePayloads.length > 0) {\r\n                const { path, value } = this.updatePayloads.shift();\r\n                if (path.endsWith(\"cn\" /* Childnodes */)) {\r\n                    resetPaths.add(path);\r\n                }\r\n                data[path] = value;\r\n            }\r\n            for (const path in data) {\r\n                resetPaths.forEach(p => {\r\n                    // 已经重置了数组，就不需要分别再设置了\r\n                    if (path.includes(p) && path !== p) {\r\n                        delete data[path];\r\n                    }\r\n                });\r\n                const value = data[path];\r\n                if (isFunction(value)) {\r\n                    data[path] = value();\r\n                }\r\n            }\r\n            if (isFunction(prerender)) {\r\n                prerender(data);\r\n            }\r\n            else {\r\n                this.pendingUpdate = false;\r\n                ctx.setData(data, () => {\r\n                    perf.stop(SET_DATA);\r\n                    if (initRender) {\r\n                        perf.stop(PAGE_INIT);\r\n                    }\r\n                });\r\n            }\r\n        }, 0);\r\n    }\r\n}\n\nconst isBrowser = typeof document !== 'undefined' && !!document.scripts;\r\nconst doc = isBrowser ? document : EMPTY_OBJ;\r\nconst win = isBrowser ? window : EMPTY_OBJ;\n\nclass TaroDocument extends TaroElement {\r\n    constructor() {\r\n        super(9 /* DOCUMENT_NODE */, '#document');\r\n    }\r\n    createElement(type) {\r\n        if (type === 'root') {\r\n            return new TaroRootElement();\r\n        }\r\n        if (controlledComponent.has(type)) {\r\n            return new FormElement(1 /* ELEMENT_NODE */, type);\r\n        }\r\n        return new TaroElement(1 /* ELEMENT_NODE */, type);\r\n    }\r\n    createTextNode(text) {\r\n        return new TaroText(text);\r\n    }\r\n    getElementById(id) {\r\n        const el = eventSource.get(id);\r\n        return isUndefined(el) ? null : el;\r\n    }\r\n    // @TODO: @PERF: 在 hydrate 移除掉空的 node\r\n    createComment() {\r\n        return new TaroText('');\r\n    }\r\n}\r\nfunction createDocument() {\r\n    const doc = new TaroDocument();\r\n    doc.appendChild((doc.documentElement = doc.createElement('html')));\r\n    doc.documentElement.appendChild((doc.head = doc.createElement('head')));\r\n    doc.documentElement.appendChild((doc.createElement('body')));\r\n    const app = doc.createElement('app');\r\n    app.id = 'app';\r\n    const container = doc.createElement('container'); // 多包一层主要为了兼容 vue\r\n    container.appendChild(app);\r\n    doc.documentElement.lastChild.appendChild(container);\r\n    return doc;\r\n}\r\nconst document$1 = (isBrowser ? doc : createDocument());\n\nconst machine = 'Macintosh';\r\nconst arch = 'Intel Mac OS X 10_14_5';\r\nconst engine = 'AppleWebKit/534.36 (KHTML, like Gecko) NodeJS/v4.1.0 Chrome/76.0.3809.132 Safari/534.36';\r\nconst navigator = isBrowser ? win.navigator : {\r\n    appCodeName: 'Mozilla',\r\n    appName: 'Netscape',\r\n    appVersion: '5.0 (' + machine + '; ' + arch + ') ' + engine,\r\n    cookieEnabled: true,\r\n    mimeTypes: [],\r\n    onLine: true,\r\n    platform: 'MacIntel',\r\n    plugins: [],\r\n    product: 'Taro',\r\n    productSub: '20030107',\r\n    userAgent: 'Mozilla/5.0 (' + machine + '; ' + arch + ') ' + engine,\r\n    vendor: 'Joyent',\r\n    vendorSub: ''\r\n};\n\nconst window$1 = isBrowser ? win : {\r\n    navigator,\r\n    document: document$1\r\n};\r\nif (process.env.TARO_ENV === 'tt') {\r\n    window$1.requestAnimationFrame = requestAnimationFrame;\r\n    window$1.cancelAnimationFrame = cancelAnimationFrame;\r\n    window$1.Date = Date;\r\n    window$1.setTimeout = setTimeout;\r\n}\n\nconst Current = {\r\n    app: null,\r\n    router: null,\r\n    page: null\r\n};\n\n/* eslint-disable dot-notation */\r\nconst instances = new Map();\r\nfunction injectPageInstance(inst, id) {\r\n    instances.set(id, inst);\r\n}\r\nfunction getPageInstance(id) {\r\n    return instances.get(id);\r\n}\r\nfunction addLeadingSlash(path) {\r\n    if (path == null) {\r\n        return '';\r\n    }\r\n    return path.charAt(0) === '/' ? path : '/' + path;\r\n}\r\nconst pageId = incrementId();\r\nfunction safeExecute(path, lifecycle, ...args) {\r\n    const isReact = process.env.FRAMEWORK !== 'vue'; // isReact means all kind of react-like library\r\n    const instance = instances.get(path);\r\n    if (instance == null) {\r\n        return;\r\n    }\r\n    if (isReact) {\r\n        if (lifecycle === 'onShow') {\r\n            lifecycle = 'componentDidShow';\r\n        }\r\n        else if (lifecycle === 'onHide') {\r\n            lifecycle = 'componentDidHide';\r\n        }\r\n    }\r\n    const func = isReact ? instance[lifecycle] : instance.$options[lifecycle];\r\n    if (isArray(func)) {\r\n        for (let i = 0; i < func.length; i++) {\r\n            func[i].apply(instance, args);\r\n        }\r\n        return;\r\n    }\r\n    if (!isFunction(func)) {\r\n        return;\r\n    }\r\n    return func.apply(instance, args);\r\n}\r\nfunction stringify(obj) {\r\n    if (obj == null) {\r\n        return '';\r\n    }\r\n    return '?' + Object.keys(obj).map((key) => {\r\n        return key + '=' + obj[key];\r\n    }).join('&');\r\n}\r\nfunction getPath(id, options) {\r\n    let path = id;\r\n    if (!isBrowser) {\r\n        path = id + stringify(options);\r\n    }\r\n    return path;\r\n}\r\nfunction createPageConfig(component, pageName, data) {\r\n    const id = pageName !== null && pageName !== void 0 ? pageName : `taro_page_${pageId()}`;\r\n    // 小程序 Page 构造器是一个傲娇小公主，不能把复杂的对象挂载到参数上\r\n    let pageElement = null;\r\n    const config = {\r\n        onLoad(options, cb) {\r\n            Current.router = {\r\n                params: options,\r\n                path: addLeadingSlash(this.route || this.__route__)\r\n            };\r\n            perf.start(PAGE_INIT);\r\n            const path = getPath(id, options);\r\n            Current.app.mount(component, path, () => {\r\n                pageElement = document$1.getElementById(path);\r\n                ensure(pageElement !== null, '没有找到页面实例。');\r\n                safeExecute(path, 'onLoad', options);\r\n                if (!isBrowser) {\r\n                    pageElement.ctx = this;\r\n                    pageElement.performUpdate(true, cb);\r\n                }\r\n            });\r\n        },\r\n        onUnload() {\r\n            Current.app.unmount(id, () => {\r\n                if (pageElement) {\r\n                    pageElement.ctx = null;\r\n                }\r\n            });\r\n        },\r\n        onShow() {\r\n            Current.page = this;\r\n            const path = getPath(id, this.options);\r\n            safeExecute(path, 'onShow');\r\n        },\r\n        onHide() {\r\n            Current.page = null;\r\n            Current.router = null;\r\n            const path = getPath(id, this.options);\r\n            safeExecute(path, 'onHide');\r\n        },\r\n        onPullDownRefresh() {\r\n            const path = getPath(id, this.options);\r\n            return safeExecute(path, 'onPullDownRefresh');\r\n        },\r\n        onReachBottom() {\r\n            const path = getPath(id, this.options);\r\n            return safeExecute(path, 'onReachBottom');\r\n        },\r\n        onPageScroll(options) {\r\n            const path = getPath(id, this.options);\r\n            return safeExecute(path, 'onPageScroll', options);\r\n        },\r\n        onShareAppMessage(options) {\r\n            const target = options.target;\r\n            if (target != null) {\r\n                const id = target.id;\r\n                const element = document$1.getElementById(id);\r\n                if (element != null) {\r\n                    options.target.dataset = element.dataset;\r\n                }\r\n            }\r\n            const path = getPath(id, this.options);\r\n            return safeExecute(path, 'onShareAppMessage', options);\r\n        },\r\n        onResize(options) {\r\n            const path = getPath(id, this.options);\r\n            return safeExecute(path, 'onResize', options);\r\n        },\r\n        onTabItemTap(options) {\r\n            const path = getPath(id, this.options);\r\n            return safeExecute(path, 'onTabItemTap', options);\r\n        },\r\n        onTitleClick() {\r\n            const path = getPath(id, this.options);\r\n            return safeExecute(path, 'onTitleClick');\r\n        },\r\n        onOptionMenuClick() {\r\n            const path = getPath(id, this.options);\r\n            return safeExecute(path, 'onOptionMenuClick');\r\n        },\r\n        onPopMenuClick() {\r\n            const path = getPath(id, this.options);\r\n            return safeExecute(path, 'onPopMenuClick');\r\n        },\r\n        onPullIntercept() {\r\n            const path = getPath(id, this.options);\r\n            return safeExecute(path, 'onPullIntercept');\r\n        }\r\n    };\r\n    config.eh = eventHandler;\r\n    if (!isUndefined(data)) {\r\n        config.data = data;\r\n    }\r\n    if (isBrowser) {\r\n        config.path = id;\r\n    }\r\n    return config;\r\n}\r\nfunction createComponentConfig(component, componentName, data) {\r\n    var _a, _b, _c;\r\n    const id = componentName !== null && componentName !== void 0 ? componentName : `taro_component_${pageId()}`;\r\n    let componentElement = null;\r\n    const config = {\r\n        attached() {\r\n            perf.start(PAGE_INIT);\r\n            Current.app.mount(component, id, () => {\r\n                componentElement = document$1.getElementById(id);\r\n                ensure(componentElement !== null, '没有找到组件实例。');\r\n                safeExecute(id, 'onLoad');\r\n                if (!isBrowser) {\r\n                    componentElement.ctx = this;\r\n                    componentElement.performUpdate(true);\r\n                }\r\n            });\r\n        },\r\n        detached() {\r\n            Current.app.unmount(id, () => {\r\n                if (componentElement) {\r\n                    componentElement.ctx = null;\r\n                }\r\n            });\r\n        },\r\n        pageLifetimes: {\r\n            show() {\r\n                safeExecute(id, 'onShow');\r\n            },\r\n            hide() {\r\n                safeExecute(id, 'onHide');\r\n            }\r\n        },\r\n        methods: {\r\n            eh: eventHandler\r\n        }\r\n    };\r\n    if (!isUndefined(data)) {\r\n        config.data = data;\r\n    }\r\n    config['options'] = (_a = component === null || component === void 0 ? void 0 : component['options']) !== null && _a !== void 0 ? _a : EMPTY_OBJ;\r\n    config['externalClasses'] = (_b = component === null || component === void 0 ? void 0 : component['externalClasses']) !== null && _b !== void 0 ? _b : EMPTY_OBJ;\r\n    config['behaviors'] = (_c = component === null || component === void 0 ? void 0 : component['behaviors']) !== null && _c !== void 0 ? _c : EMPTY_OBJ;\r\n    return config;\r\n}\r\nfunction createRecursiveComponentConfig() {\r\n    return {\r\n        properties: {\r\n            i: {\r\n                type: Object,\r\n                value: {\r\n                    [\"nn\" /* NodeName */]: 'view'\r\n                }\r\n            }\r\n        },\r\n        options: {\r\n            addGlobalClass: true\r\n        },\r\n        methods: {\r\n            eh: eventHandler\r\n        }\r\n    };\r\n}\n\nfunction connectReactPage(R, id) {\r\n    const h = R.createElement;\r\n    return (component) => {\r\n        var _a;\r\n        // eslint-disable-next-line dot-notation\r\n        const isReactComponent = isFunction(component['render']) ||\r\n            !!((_a = component.prototype) === null || _a === void 0 ? void 0 : _a.isReactComponent) ||\r\n            component.prototype instanceof R.Component; // compat for some others react-like library\r\n        const inject = (node) => node && injectPageInstance(node, id);\r\n        const refs = isReactComponent ? { ref: inject } : { forwardedRef: inject };\r\n        if (PageContext === EMPTY_OBJ) {\r\n            PageContext = R.createContext('');\r\n        }\r\n        return class Page extends R.Component {\r\n            constructor() {\r\n                super(...arguments);\r\n                this.state = {\r\n                    hasError: false\r\n                };\r\n            }\r\n            static getDerivedStateFromError(error) {\r\n                console.warn(error);\r\n                return { hasError: true };\r\n            }\r\n            // React 16 uncaught error 会导致整个应用 crash，\r\n            // 目前把错误缩小到页面\r\n            componentDidCatch(error, info) {\r\n                console.warn(error);\r\n                console.error(info.componentStack);\r\n            }\r\n            render() {\r\n                const children = this.state.hasError\r\n                    ? []\r\n                    : h(PageContext.Provider, { value: id }, h(component, Object.assign(Object.assign({}, this.props), refs)));\r\n                if (isBrowser) {\r\n                    return h('div', { id, className: 'taro_page' }, children);\r\n                }\r\n                return h('root', { id }, children);\r\n            }\r\n        };\r\n    };\r\n}\r\n// 初始值设置为 any 主要是为了过 TS 的校验\r\nlet R = EMPTY_OBJ;\r\nlet PageContext = EMPTY_OBJ;\r\nlet ReactDOM;\r\nfunction createReactApp(App, react, reactdom) {\r\n    R = react;\r\n    ReactDOM = reactdom;\r\n    ensure(!!ReactDOM, '构建 React/Nerv 项目请把 process.env.FRAMEWORK 设置为 \\'react\\'/\\'nerv\\' ');\r\n    const ref = R.createRef();\r\n    let wrapper;\r\n    class AppWrapper extends R.Component {\r\n        constructor() {\r\n            super(...arguments);\r\n            // run createElement() inside the render function to make sure that owner is right\r\n            this.pages = [];\r\n            this.elements = [];\r\n        }\r\n        mount(component, id, cb) {\r\n            const page = () => R.createElement(component, { key: id, tid: id });\r\n            this.pages.push(page);\r\n            this.forceUpdate(cb);\r\n        }\r\n        unmount(id, cb) {\r\n            for (let i = 0; i < this.elements.length; i++) {\r\n                const element = this.elements[i];\r\n                if (element.key === id) {\r\n                    this.elements.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n            this.forceUpdate(cb);\r\n        }\r\n        render() {\r\n            while (this.pages.length > 0) {\r\n                const page = this.pages.pop();\r\n                this.elements.push(page());\r\n            }\r\n            return R.createElement(App, { ref }, isBrowser ? R.createElement('div', null, this.elements.slice()) : this.elements.slice());\r\n        }\r\n    }\r\n    class AppConfig {\r\n        onLaunch(options) {\r\n            wrapper = ReactDOM.render(R.createElement(AppWrapper), document$1.getElementById('app'));\r\n            const app = ref.current;\r\n            Current.router = Object.assign({ params: options === null || options === void 0 ? void 0 : options.query }, options);\r\n            if (app != null && isFunction(app.onLaunch)) {\r\n                app.onLaunch(options);\r\n            }\r\n        }\r\n        onShow(options) {\r\n            const app = ref.current;\r\n            Current.router = Object.assign({ params: options === null || options === void 0 ? void 0 : options.query }, options);\r\n            if (app != null && isFunction(app.componentDidShow)) {\r\n                app.componentDidShow(options);\r\n            }\r\n        }\r\n        onHide(options) {\r\n            const app = ref.current;\r\n            if (app != null && isFunction(app.componentDidHide)) {\r\n                app.componentDidHide(options);\r\n            }\r\n        }\r\n        render(cb) {\r\n            wrapper.forceUpdate(cb);\r\n        }\r\n        mount(component, id, cb) {\r\n            const page = connectReactPage(R, id)(component);\r\n            wrapper.mount(page, id, cb);\r\n        }\r\n        unmount(id, cb) {\r\n            wrapper.unmount(id, cb);\r\n        }\r\n    }\r\n    Current.app = new AppConfig();\r\n    return Current.app;\r\n}\n\nfunction connectVuePage(Vue, id) {\r\n    return (component) => {\r\n        const injectedPage = Vue.extend({\r\n            props: {\r\n                tid: String\r\n            },\r\n            mixins: [component, {\r\n                    created() {\r\n                        injectPageInstance(this, id);\r\n                    }\r\n                }]\r\n        });\r\n        const options = {\r\n            render(h) {\r\n                return h(isBrowser ? 'div' : 'root', {\r\n                    attrs: {\r\n                        id,\r\n                        class: isBrowser ? 'taro_page' : ''\r\n                    }\r\n                }, [\r\n                    h(injectedPage, { props: { tid: id } })\r\n                ]);\r\n            }\r\n        };\r\n        return options;\r\n    };\r\n}\r\nlet Vue;\r\nfunction createVueApp(App, vue) {\r\n    Vue = vue;\r\n    ensure(!!Vue, '构建 Vue 项目请把 process.env.FRAMEWORK 设置为 \\'vue\\'');\r\n    Vue.config.getTagNamespace = noop;\r\n    const elements = [];\r\n    const pages = [];\r\n    let appInstance;\r\n    const wrapper = new Vue({\r\n        render(h) {\r\n            while (pages.length > 0) {\r\n                const page = pages.pop();\r\n                elements.push(page(h));\r\n            }\r\n            return h(App.$options, { ref: 'app' }, elements.slice());\r\n        },\r\n        methods: {\r\n            mount(component, id, cb) {\r\n                pages.push((h) => h(component, { key: id }));\r\n                this.updateSync(cb);\r\n            },\r\n            updateSync(cb) {\r\n                this._update(this._render(), false);\r\n                this.$children.forEach((child) => child._update(child._render(), false));\r\n                cb();\r\n            },\r\n            unmount(id, cb) {\r\n                for (let i = 0; i < elements.length; i++) {\r\n                    const element = elements[i];\r\n                    if (element.key === id) {\r\n                        elements.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n                this.updateSync(cb);\r\n            }\r\n        }\r\n    });\r\n    class AppConfig {\r\n        onLaunch(options) {\r\n            wrapper.$mount(document$1.getElementById('app'));\r\n            appInstance = wrapper.$refs.app;\r\n            Current.router = Object.assign({ params: options === null || options === void 0 ? void 0 : options.query }, options);\r\n            if (appInstance != null && isFunction(appInstance.$options.onLaunch)) {\r\n                appInstance.$options.onLaunch.call(appInstance, options);\r\n            }\r\n        }\r\n        onShow(options) {\r\n            Current.router = Object.assign({ params: options === null || options === void 0 ? void 0 : options.query }, options);\r\n            if (appInstance != null && isFunction(appInstance.$options.onShow)) {\r\n                appInstance.$options.onShow.call(appInstance, options);\r\n            }\r\n        }\r\n        onHide(options) {\r\n            if (appInstance != null && isFunction(appInstance.$options.onHide)) {\r\n                appInstance.$options.onHide.call(appInstance, options);\r\n            }\r\n        }\r\n        mount(component, id, cb) {\r\n            const page = connectVuePage(Vue, id)(component);\r\n            wrapper.mount(page, id, cb);\r\n        }\r\n        unmount(id, cb) {\r\n            wrapper.unmount(id, cb);\r\n        }\r\n    }\r\n    Current.app = new AppConfig();\r\n    return Current.app;\r\n}\n\nconst taroHooks = (lifecycle) => {\r\n    return (fn) => {\r\n        const id = R.useContext(PageContext);\r\n        R.useLayoutEffect(() => {\r\n            let inst = getPageInstance(id);\r\n            let first = false;\r\n            if (inst == null) {\r\n                first = true;\r\n                inst = Object.create(null);\r\n            }\r\n            if (lifecycle !== 'onShareAppMessage') {\r\n                inst[lifecycle] = [\r\n                    ...(inst[lifecycle] || []),\r\n                    fn.bind(null)\r\n                ];\r\n            }\r\n            else {\r\n                inst[lifecycle] = fn.bind(null);\r\n            }\r\n            if (first) {\r\n                injectPageInstance(inst, id);\r\n            }\r\n        }, []);\r\n    };\r\n};\r\nconst useDidShow = taroHooks('componentDidShow');\r\nconst useDidHide = taroHooks('componentDidHide');\r\nconst usePullDownRefresh = taroHooks('onPullDownRefresh');\r\nconst useReachBottom = taroHooks('onReachBottom');\r\nconst usePageScroll = taroHooks('onPageScroll');\r\nconst useResize = taroHooks('onResize');\r\nconst useShareAppMessage = taroHooks('onShareAppMessage');\r\nconst useTabItemTap = taroHooks('onTabItemTap');\r\nconst useTitleClick = taroHooks('onTitleClick');\r\nconst useOptionMenuClick = taroHooks('onOptionMenuClick');\r\nconst usePullIntercept = taroHooks('onPullIntercept');\r\nconst useRouter = (dynamic = false) => {\r\n    return dynamic ? Current.router : R.useMemo(() => Current.router, []);\r\n};\r\nconst useScope = () => undefined;\n\nconst nextTick = (cb) => {\r\n    setTimeout(cb, 1);\r\n};\n\nclass Events {\r\n    constructor(opts) {\r\n        if (typeof opts !== 'undefined' && opts.callbacks) {\r\n            this.callbacks = opts.callbacks;\r\n        }\r\n        else {\r\n            this.callbacks = {};\r\n        }\r\n    }\r\n    on(eventName, callback, context) {\r\n        let event, node, tail, list;\r\n        if (!callback) {\r\n            return this;\r\n        }\r\n        eventName = eventName.split(Events.eventSplitter);\r\n        const calls = this.callbacks;\r\n        while ((event = eventName.shift())) {\r\n            list = calls[event];\r\n            node = list ? list.tail : {};\r\n            node.next = tail = {};\r\n            node.context = context;\r\n            node.callback = callback;\r\n            calls[event] = {\r\n                tail,\r\n                next: list ? list.next : node\r\n            };\r\n        }\r\n        return this;\r\n    }\r\n    once(events, callback, context) {\r\n        const wrapper = (...args) => {\r\n            callback.apply(this, args);\r\n            this.off(events, wrapper, context);\r\n        };\r\n        this.on(events, wrapper, context);\r\n        return this;\r\n    }\r\n    off(events, callback, context) {\r\n        let event, calls, node, tail, cb, ctx;\r\n        if (!(calls = this.callbacks)) {\r\n            return this;\r\n        }\r\n        if (!(events || callback || context)) {\r\n            delete this.callbacks;\r\n            return this;\r\n        }\r\n        events = events ? events.split(Events.eventSplitter) : Object.keys(calls);\r\n        while ((event = events.shift())) {\r\n            node = calls[event];\r\n            delete calls[event];\r\n            if (!node || !(callback || context)) {\r\n                continue;\r\n            }\r\n            tail = node.tail;\r\n            while ((node = node.next) !== tail) {\r\n                cb = node.callback;\r\n                ctx = node.context;\r\n                if ((callback && cb !== callback) || (context && ctx !== context)) {\r\n                    this.on(event, cb, ctx);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    trigger(events) {\r\n        let event, node, calls, tail;\r\n        if (!(calls = this.callbacks)) {\r\n            return this;\r\n        }\r\n        events = events.split(Events.eventSplitter);\r\n        const rest = [].slice.call(arguments, 1);\r\n        while ((event = events.shift())) {\r\n            if ((node = calls[event])) {\r\n                tail = node.tail;\r\n                while ((node = node.next) !== tail) {\r\n                    node.callback.apply(node.context || this, rest);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n}\r\nEvents.eventSplitter = /\\s+/;\r\nlet eventCenter;\r\nif (process.env.TARO_ENV === 'alipay') {\r\n    if (!my.taroEventCenter) {\r\n        my.taroEventCenter = new Events();\r\n    }\r\n    eventCenter = my.taroEventCenter;\r\n}\r\nelse {\r\n    eventCenter = new Events();\r\n}\n\nexport { Current, Events, Style, TaroElement, TaroEvent, TaroNode, TaroRootElement, TaroText, connectReactPage, connectVuePage, createComponentConfig, createDocument, createEvent, createPageConfig, createReactApp, createRecursiveComponentConfig, createVueApp, document$1 as document, eventCenter, hydrate, injectPageInstance, navigator, nextTick, options, useDidHide, useDidShow, useOptionMenuClick, usePageScroll, usePullDownRefresh, usePullIntercept, useReachBottom, useResize, useRouter, useScope, useShareAppMessage, useTabItemTap, useTitleClick, window$1 as window };\n//# sourceMappingURL=runtime.esm.js.map\n"],"sourceRoot":""}